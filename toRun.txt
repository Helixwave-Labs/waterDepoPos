python app/initial_data.py
uvicorn app.main:app --reload
pip install -r "requirements.txt"


# 1. Make sure the database exists in Postgres
# (Run this in a separate terminal or use pgAdmin)
# psql -U postgres -c "CREATE DATABASE water_depot;"

# 2. Run Migrations (This creates the tables in your local DB)
alembic upgrade head

# 3. Create the Admin User
python app/initial_data.py

# 4. Start the Server
uvicorn app.main:app --reload


Update your Start Command in the Render Dashboard (Settings > Start Command) to chain these three steps:

Run Migrations (Schema)
Run Data Script (Rows)
Start App

alembic revision --autogenerate -m "Add sku category and mixed sales"
alembic upgrade head


DATABASE_URL	Your Aiven connection string (Render might auto-generate one if you use Render Postgres, but use yours for Aiven)
SECRET_KEY	Your secret key
S3_ENDPOINT_URL	Your Cloudflare R2 endpoint (without the bucket name at the end)
R2_ACCESS_KEY_ID	Your R2 Access Key ID
R2_SECRET_ACCESS_KEY	Your R2 Secret Access Key
R2_PUBLIC_DOMAIN	Your R2 Public Domain URL
S3_BUCKET_NAME	waterdepoimages (Or whatever your bucket is named)